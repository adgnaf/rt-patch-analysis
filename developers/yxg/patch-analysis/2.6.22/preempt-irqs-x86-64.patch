---
 arch/x86_64/kernel/i8259.c   |    3 ++-
 arch/x86_64/kernel/io_apic.c |    3 ++-
 arch/x86_64/kernel/time.c    |    3 ++-
 3 files changed, 6 insertions(+), 3 deletions(-)

Index: linux-rt.q/arch/x86_64/kernel/i8259.c
===================================================================
--- linux-rt.q.orig/arch/x86_64/kernel/i8259.c
+++ linux-rt.q/arch/x86_64/kernel/i8259.c
@@ -395,7 +395,8 @@ device_initcall(i8259A_init_sysfs);
  * IRQ2 is cascade interrupt to second interrupt controller
  */
 
-static struct irqaction irq2 = { no_action, 0, CPU_MASK_NONE, "cascade", NULL, NULL};
+static struct irqaction irq2 = { no_action, IRQF_NODELAY, CPU_MASK_NONE, "cascade", NULL, NULL};
+
 DEFINE_PER_CPU(vector_irq_t, vector_irq) = {
 	[0 ... IRQ0_VECTOR - 1] = -1,
 	[IRQ0_VECTOR] = 0,
Index: linux-rt.q/arch/x86_64/kernel/io_apic.c
===================================================================
--- linux-rt.q.orig/arch/x86_64/kernel/io_apic.c
+++ linux-rt.q/arch/x86_64/kernel/io_apic.c
@@ -777,9 +777,10 @@ static void ioapic_register_intr(int irq
 	if (trigger)
 		set_irq_chip_and_handler_name(irq, &ioapic_chip,
 					      handle_fasteoi_irq, "fasteoi");
-	else
+	else {
 		set_irq_chip_and_handler_name(irq, &ioapic_chip,
 					      handle_edge_irq, "edge");
+	}
 }
 
 static void setup_IO_APIC_irq(int apic, int pin, unsigned int irq,
Index: linux-rt.q/arch/x86_64/kernel/time.c
===================================================================
--- linux-rt.q.orig/arch/x86_64/kernel/time.c
+++ linux-rt.q/arch/x86_64/kernel/time.c
@@ -255,7 +255,8 @@ static unsigned int __init tsc_calibrate
 
 static struct irqaction irq0 = {
 	.handler	= timer_interrupt,
-	.flags		= IRQF_DISABLED | IRQF_IRQPOLL | IRQF_NOBALANCING,
+	.flags		= IRQF_DISABLED | IRQF_IRQPOLL | IRQF_NOBALANCING |
+			  IRQF_NODELAY,
 	.mask		= CPU_MASK_NONE,
 	.name		= "timer"
 };
