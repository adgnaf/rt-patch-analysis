---
 drivers/net/netconsole.c |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

Index: linux-2.6.23-rt1/drivers/net/netconsole.c
===================================================================
--- linux-2.6.23-rt1.orig/drivers/net/netconsole.c	2007-10-11 15:57:36.000000000 -0400
+++ linux-2.6.23-rt1/drivers/net/netconsole.c	2007-10-11 16:00:56.000000000 -0400
@@ -68,21 +68,16 @@ static int configured = 0;
 static void write_msg(struct console *con, const char *msg, unsigned int len)
 {
 	int frag, left;
-	unsigned long flags;
 
 	if (!np.dev)
 		return;
 
-	local_irq_save(flags);
-
-	for(left = len; left; ) {
+	for (left = len; left; ) {
 		frag = min(left, MAX_PRINT_CHUNK);
 		netpoll_send_udp(&np, msg, frag);
 		msg += frag;
 		left -= frag;
 	}
-
-	local_irq_restore(flags);
 }
 
 static struct console netconsole = {
