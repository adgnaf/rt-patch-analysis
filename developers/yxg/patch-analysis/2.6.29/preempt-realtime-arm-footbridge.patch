---
 arch/arm/mach-footbridge/include/mach/hardware.h |    2 +-
 arch/arm/mach-footbridge/netwinder-hw.c          |    2 +-
 arch/arm/mach-footbridge/netwinder-leds.c        |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

Index: linux-2.6-tip/arch/arm/mach-footbridge/include/mach/hardware.h
===================================================================
--- linux-2.6-tip.orig/arch/arm/mach-footbridge/include/mach/hardware.h
+++ linux-2.6-tip/arch/arm/mach-footbridge/include/mach/hardware.h
@@ -86,7 +86,7 @@
 #define CPLD_FLASH_WR_ENABLE	1
 
 #ifndef __ASSEMBLY__
-extern spinlock_t nw_gpio_lock;
+extern raw_spinlock_t nw_gpio_lock;
 extern void nw_gpio_modify_op(unsigned int mask, unsigned int set);
 extern void nw_gpio_modify_io(unsigned int mask, unsigned int in);
 extern unsigned int nw_gpio_read(void);
Index: linux-2.6-tip/arch/arm/mach-footbridge/netwinder-hw.c
===================================================================
--- linux-2.6-tip.orig/arch/arm/mach-footbridge/netwinder-hw.c
+++ linux-2.6-tip/arch/arm/mach-footbridge/netwinder-hw.c
@@ -68,7 +68,7 @@ static inline void wb977_ww(int reg, int
 /*
  * This is a lock for accessing ports GP1_IO_BASE and GP2_IO_BASE
  */
-DEFINE_SPINLOCK(nw_gpio_lock);
+DEFINE_RAW_SPINLOCK(nw_gpio_lock);
 EXPORT_SYMBOL(nw_gpio_lock);
 
 static unsigned int current_gpio_op;
Index: linux-2.6-tip/arch/arm/mach-footbridge/netwinder-leds.c
===================================================================
--- linux-2.6-tip.orig/arch/arm/mach-footbridge/netwinder-leds.c
+++ linux-2.6-tip/arch/arm/mach-footbridge/netwinder-leds.c
@@ -31,7 +31,7 @@
 static char led_state;
 static char hw_led_state;
 
-static DEFINE_SPINLOCK(leds_lock);
+static DEFINE_RAW_SPINLOCK(leds_lock);
 
 static void netwinder_leds_event(led_event_t evt)
 {
