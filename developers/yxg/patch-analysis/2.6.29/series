#
# base tree: 2.6.29
#

origin.patch

#
# Mainline + -tip fixes and updates
#

kbuild.patch

# Temporary revert for the -rt1 release.
threaded-irq-revert-for-first-shot.patch

#
# Needs to be solved upstream by BKL removal
#

revert-sched-changes.patch
revert-bkl-cleanup.patch
revert-preempt-bkl-revert.patch

#
# Patches which should go mainline
#
rt_mutex_setprio.patch
posix-timers-prevent-broadcast-signals.patch

#
# Lockless QRCU
#
qrcu.patch

# KVM - RT fixes
# NECESSARY: sched-enable-irqs-in-preempt-in-notifier-call.patch

#
# Check what's in mainline / mm or might be
# upstream material.
#
spinlock-trylock-cleanup-sungem.patch
x86_64-tsc-sync-irqflags-fix.patch
neptune-no-at-keyboard.patch
rtmutex-debug.h-cleanup.patch
netpoll-8139too-fix.patch
kprobes-preempt-fix.patch
replace-bugon-by-warn-on.patch

# Suspend / resume fixups
i386-mark-atomic-irq-ops-raw.patch
msi-suspend-resume-workaround.patch
floppy-resume-fix.patch

#
# assorted fixlets from -mm:
#

ioapic-fix-too-fast-clocks.patch
move-native-irq.patch
dont-unmask-io_apic.patch

#
# misc build beautification patches:
#
gcc-warnings-shut-up.patch

#
# Various fixlets
#

nfs-stats-miss-preemption.patch
random-driver-latency-fix.patch

#
# Debugging patches
#
#apic-dumpstack.patch

#
# Revert loopback bh assumption patch
#
loopback-revert.patch

#
# -rt queue:
#
#inet_hash_bits.patch
#inet-hash-bits-ipv6-fix.patch

#
# IRQ threading
#
generic-cmpxchg-use-raw-local-irq-variant.patch
preempt-softirqs-core.patch
preempt-irqs-core.patch
preempt-irqs-core-fix.patch
preempt-irqs-direct-debug-keyboard.patch
preempt-realtime-direct-keyboard-sparseirq-fix.patch
preempt-irqs-timer.patch
preempt-irqs-hrtimer.patch

# i386
preempt-irqs-i386.patch
#preempt-irqs-i386-ioapic-mask-quirk.patch

# x8664
#preempt-irqs-x86-64-ioapic-mask-quirk.patch

preempt-irqs-Kconfig.patch

#
# Real real time stuff :)
#
preempt-irqs-port-fixes.patch
rt-apis.patch

rt-slab-new.patch
rt-page_alloc.patch

#
# rt-mutexes
#
rt-mutex-preempt-debugging.patch
## PORT-BARRIER: rt-mutex-irq-flags-checking.patch
rt-mutex-trivial-tcp-preempt-fix.patch
rt-mutex-trivial-route-cast-fix.patch

rt-mutex-i386.patch
rt-mutex-x86-64.patch

rt-mutex-core.patch
rtmutex-mutex-fixups.patch
rt-mutex-core-fixes.patch
rt-mutex-core-mutex-fixes.patch
rt-mutex-core-fixes2.patch
rt-mutex-fix-non-lock-kernel-config.patch

slub-compile-fix.patch
rt-mutex-compat-semaphores.patch

#
# Per-CPU locking assumption cleanups:
#
per-cpu-locked-infrastructure.patch
percpu-locked-mm.patch
drain-all-local-pages-via-sched.patch
rt-page_alloc.c-cleanup.patch

percpu-locked-netfilter.patch
#percpu-locked-netfilter2.patch


#
# Various preempt fixups
#
net-core-preempt-fix.patch

bh-uptodate-lock.patch
bh-state-lock.patch

jbd_assertions_smp_only.patch

#
# Tasklet redesign
#
tasklet-redesign.patch
tasklet-busy-loop-hack.patch

#
# Diable irq poll on -rt
#
disable-irqpoll.patch

#
# Inaccurate -rt stats (should be replaced by CFS)
#
kstat-add-rt-stats.patch

# Misc
preempt-realtime-warn-and-bug-on.patch

#
# Posix-cpu-timers in a thread
#
cputimer-thread-rt_A0.patch
cputimer-thread-rt-fix.patch
shorten-posix-cpu-timers-name.patch

#
# Various broken drivers
#
vortex-fix.patch
serial-locking-rt-cleanup.patch

#
# Serial optimizing
#
serial-slow-machines.patch

#
# Realtime patches
#

# X86_64: needs splitting
preempt-realtime-x86_64.patch

# i386
preempt-realtime-i386.patch
remove-check-pgt-cache-calls.patch
#preempt-irqs-i386-idle-poll-loop-fix.patch

#
# Core patch
#
# Note this is a convenience split up it is not supposed to compile
# step by step. Needs some care, but it is way easier to handle than
# the previous touch all in one patch
#
preempt-realtime-sched.patch

preempt-realtime-sched-remove-debug.patch
preempt-realtime-mmdrop-delayed.patch
preempt-realtime-sched-i386.patch
preempt-realtime-prevent-idle-boosting.patch
# preempt-realtime-cfs-accounting-fix.patch
# PORT VICTIM: schedule-tail-balance-disable-irqs.patch

preempt-realtime-sched-cpupri.patch
preempt-realtime-core.patch

fix-net-bug-fixes.patch

resurrect-softirq-code.patch

preempt-realtime-net.patch
preempt-realtime-net-softirq-fixups.patch
dev-queue-xmit-preempt-fix.patch
net-xmit-lock-owner-cleanup.patch
preempt-realtime-cleanup-dev-queue-xmit.patch

preempt-realtime-loopback.patch

preempt-realtime-fs-block.patch
preempt-realtime-acpi.patch
preempt-realtime-ipc.patch
#preempt-realtime-sound.patch
# ftrace-compile-fixes.patch
preempt-realtime-mm.patch
preempt-realtime-init-show-enabled-debugs.patch
preempt-realtime-compile-fixes.patch
preempt-realtime-console.patch
#preempt-realtime-debug-sysctl.patch
preempt-realtime-ide.patch
preempt-realtime-input.patch

preempt-realtime-irqs.patch
irq-desc-init.patch
preempt-realtime-fix-irqdesc-lock-initializers.patch

preempt-realtime-fix-sig-cputimer-lock.patch

preempt-realtime-net-drivers.patch
#preempt-realtime-netconsole.patch
preempt-realtime-printk.patch
# CHECKME: preempt-realtime-profiling.patch
preempt-realtime-rawlocks.patch
preempt-realtime-rcu.patch

preempt-realtime-timer.patch
fix-compilation-for-non-RT-in-timer.patch
kstat-fix-spurious-system-load-spikes-in-proc-loadavgrt.patch
preempt-realtimer-timer-non-rt-warning-fixes.patch
preempt-realtimer-timer-more-non-rt-warning-fixes.patch
gtod-optimize.patch
rt-move-update-wall-time-back-to-do-timer.patch
bz235099-idle-load-fix.patch

preempt-realtime-usb.patch
preempt-realtime-warn-and-bug-on-fix.patch
preempt-realtime-debugobjects-rt-safe.patch

preempt-realtime-xfs-compat-semaphore.patch

rt-stop-cpus-fix.patch

preempt-realtime-tracer.patch

preempt-realtime-btrfs-locking-workaround.patch
preempt-realtime-force-rcu-preempt.patch
preempt-realtime-perfcounters.patch
preempt-realtime-ipi-call-lock-raw.patch
preempt-realtime-timer-cpu-hotplug-fix.patch
preempt-realtime-serial-console-fix.patch
preempt-realtime-disable-workqueue-tracer-on-preempt-rt.patch

# CHECKME:
irq-mask-fix.patch
handle-pending-in-simple-irq.patch
preempt-realtime-irqthreading-sparseirq-fixups.patch
preempt-realtime-sparseirq-waitqueue-init-fix.patch

#
# Various -rt fixups
#

#preempt-realtime-supress-cpulock-warning.patch
#preempt-realtime-supress-nohz-softirq-warning.patch


#preempt-realtime-8139too-rt-irq-flags-fix.patch
preempt-realtime-mellanox-driver-fix.patch

#
# Utility patches (not for upstream inclusion):
#
preempt-realtime-supress-rtc-printk.patch
hrtimer-no-printk.patch

#
# soft watchdog queue:
#
#softlockup-fix.patch
softlockup-add-irq-regs-h.patch
#softlockup-better-printout.patch
#softlockup-cleanups.patch
#softlockup-use-cpu-clock.patch

#
# Not yet reviewed
#

#
# START of Pete's ccur-pagecache queue
#

#
# END of Pete's ccur-pagecache queue
#

#
# kmap atomix fixes
#
kmap-atomic-prepare.patch
pagefault-disable-cleanup.patch
kmap-atomic-i386-fix.patch

#
# Highmem modifications
#
highmem-revert-mainline.patch
highmem_rewrite.patch
highmem-redo-mainline.patch
rt-kmap-scale-fix.patch
#
# Not yet reviewed 
#
highmem-atomic-fix.patch
#select-error-leak-fix.patch
fix-emergency-reboot.patch
timer-freq-tweaks.patch


#
# Debug patches:
#
#pause-on-oops-head-tail.patch

#
# x86-64 vsyscall modifications
#
x86-64-tscless-vgettimeofday.patch
#vsyscall-fixadder-pa.patch

#
# Timekeeping fixups
#
# x rt-time-starvation-fix.patch
# x rt-time-starvation-fix-update.patch

#
# RT-Java testing stuff
#
#Add-dev-rmem-device-driver-for-real-time-JVM-testing.patch
#Allocate-RTSJ-memory-for-TCK-conformance-test.patch

#
# Softirq modifications
#
#new-softirq-code.patch
softirq-per-cpu-assumptions-fixes.patch
#fix-migrating-softirq.patch
#only-run-softirqs-from-irq-thread-when-irq-affinity-is-set.patch
#fix-softirq-checks-for-non-rt-preempt-hardirq.patch

smp-processor-id-fixups.patch

#
# Weird crap unearthed by -rt which needs to be investigated
#
irda-fix.patch
#nf_conntrack-fix-smp-processor-id.patch

#
# Needs proper fix
#
print-might-sleep-hack.patch

lockdep-rt-mutex.patch
#lockstat-rt-hooks.patch
#lockstat_bounce_rt.patch

#
# KVM:
#
#kvm-rt.patch

#
# Add RT to uname and apply the version
#
RT_utsname.patch

#
# not yet backmerged tail patches:
#
preempt-rt-no-slub.patch
paravirt-function-pointer-fix.patch
quicklist-release-before-free-page.patch
quicklist-release-before-free-page-fix.patch
sched-rt-stats.patch
# CHECKME: mitigate-resched-flood.patch
genirq-soft-resend.patch
relay-fix.patch
#schedule_on_each_cpu-enhance.patch
#schedule_on_each_cpu-enhance-rt.patch
lockdep-rt-recursion-limit-fix.patch
cond_resched_softirq-WARN-fix.patch

# stuff Ingo put into version.patch
#export-schedule-on-each-cpu.patch

# fix-alternate_node_alloc.patch

hack-convert-i_alloc_sem-for-direct_io-craziness.patch
dont-let-rt-rw_semaphores-do-non_owner-locks.patch
# CHECKME: rt-s_files-kill-a-union.patch

loadavg_fixes_weird_loads.patch

# HPET patches
#watchdog_use_timer_and_hpet_on_x86_64.patch



# x stop-critical-timing-in-idle.patch

# rt-wakeup-fix.patch
disable-ist-x86_64.patch


plist-debug.patch
seq-irqsave.patch
numa-slab-freeing.patch

# Peter's patches
#
# workqueue PI
#
# CHECKME: rt-list-mods.patch
# CHECKME: rt-plist-mods.patch
# CHECKME: rt-workqeue-prio.patch
# CHECKME: rt-workqueue-barrier.patch
# CHECKME: rt-wq-barrier-fix.patch
# CHECKME: rt-delayed-prio.patch

# CHECKME: sched_prio.patch
# x critical-timing-kconfig.patch

lock-init-plist-fix.patch
ntfs-local-irq-save-nort.patch
dont-disable-preemption-without-IST.patch

# CHECKME: filemap-dont-bug-non-atomic.patch
# CHECKME: fix-bug-on-in-filemap.patch
rt-sched-groups.patch
printk-dont-bug-on-sched.patch
user-no-irq-disable.patch
proportions-raw-locks.patch

# AT91 patches
use-edge-triggered-irq-handler-instead-of-simple-irq.patch

apic-level-smp-affinity.patch

printk-in-atomic.patch

printk-in-atomic-hack-fix.patch
slab-irq-nopreempt-fix.patch
swap-spinlock-fix.patch
aacraid-compat-sem.patch

# Luis's gtod updates
fix_vdso_gtod_vsyscall64_2.patch

git-ignore-script-lpp.patch

sched-wake_up_idle_cpu-rt.patch

# Adaptive Locks and lateral steal
rtmutex-lateral-steal.patch
rtmutex-rearrange.patch
rtmutex-remove-xchg.patch
adaptive-spinlock-lite-v2.patch
adaptive-optimize-rt-lock-wakeup.patch
adaptive-task-oncpu.patch
adaptive-adjust-pi-wakeup.patch
adapt-remove-extra-try-to-lock.patch
adaptive-earlybreak-on-steal.patch
fix-adaptive-hack.patch
tglx-04-rtmutex-unify-state-manipulation.patch
tglx-05-rtmutex-remove-uber-optimization.patch
tglx-07-rtmutex-prevent-missed-wakeups.patch
fix-config-debug-rt-mutex-lock-underflow-warnings.patch

realtime-preempt-warn-about-tracing.patch

sub-dont-disable-irqs.patch

raw-spinlocks-for-nmi-print.patch

sched-fix-dequeued-race.patch

lockdep-atomic-fixup.patch
seqlock-01-make-sure-that-raw_seqlock-retries.patch

namespace-lock-fixes.patch

sched-generic-hide-smp-warning.patch

seqlock-serialize-against-writers.patch

seqlocks-handle-rwlock-and-spin.patch

ata-irq-save-nort.patch
fix-erroneous-histogram-stop-warn-on-messages.patch

# hrtimer bring back the hard/softirq seperation :(
hrtimer-fix-wait-for-hrtimer.patch
printk-tick-move-to-softirq-on-rt.patch
hrtimer-fixup-hrtimer-callback-changes.patch

blkcypher-fix.patch
rt-res_counter-fix.patch
preempt-realtime-paravirt-spinlocks-fix.patch

# x86-32 highmem related fixups
preempt-realtime-x86-32-gup-kmapatomic.patch
preempt-rt-x86-pageattr-flush-unused.patch

# general valid on -rt not only for x86-32 highmem
preempt-rt-scatterlist-nort.patch

netfilter-rcu-destroy.patch
percpu-locked-netfilter-ecache.patch

#debugobjects-rt-safe.patch

disable-maxcpus-for-now.patch
x86-microcode-fix-sysfs-wreckage.patch

trace-disable-hw-branch-tracer.patch

rt-spin-needbreak-fixup.patch
mm-lock-break-on-bulk.patch
page-alloc-bulk-moar.patch
pagealloc-cond-resched-rt-only.patch

trace-setprio.patch

signal-keep-a-task-private-siginfo-for-rt-tasks.patch

cpuhotplug-idle.patch
cpuhotplug-page_alloc.patch
cpuhotplug-per-cpu.patch
cpuhotplug-vs-slab.patch
slab-free-pages.patch

lockdep-compat-sema-fix.patch
x86-vector-sparse-irq-fix.patch

posixtimer-avoid-wakeups.patch
signal-do-not-wakeup-self.patch

# ARM
arm-preempt-config.patch
preempt-irqs-arm.patch
preempt-irqs-arm-fix-oprofile.patch
rt-mutex-arm.patch
preempt-realtime-arm.patch
arm-fix-compile-1.patch
preempt-realtime-arm-rawlock-in-mmu_context-h.patch
preempt-realtime-arm-bagde4.patch
preempt-realtime-arm-footbridge.patch
preempt-realtime-arm-integrator.patch
preempt-realtime-arm-ixp4xx.patch
preempt-realtime-arm-shark.patch
arm-omap-05.patch
arm-tracing-updates.patch

# POWERPC
powerpc-rtmutex.patch
powerpc-compat-semaphore.patch
powerpc-rawlocks.patch
powerpc-percpu-tlb.patch
powerpc-realtime-preempt.patch

genirq-warn-on-do-irq.patch

x86-pae-preempt-realtime-fix.patch

powerpc-raw-spin-unlock-wait-disable-preemption.patch
powerpc-pseries-rtasd-irq-disable-check-non-rt.patch

version.patch
