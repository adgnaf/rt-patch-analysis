---
 arch/x86_64/kernel/vsyscall.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-2.6.23.1-rt11/arch/x86_64/kernel/vsyscall.c
===================================================================
--- linux-2.6.23.1-rt11.orig/arch/x86/kernel/vsyscall_64.c
+++ linux-2.6.23.1-rt11/arch/x86/kernel/vsyscall_64.c
@@ -50,7 +50,7 @@
 	({unsigned long v;  		\
 	extern char __vsyscall_0; 	\
 	  asm("" : "=r" (v) : "0" (x)); \
-	  ((v - VSYSCALL_FIRST_PAGE) + __pa_symbol(&__vsyscall_0)); })
+	  ((v - fix_to_virt(VSYSCALL_FIRST_PAGE)) + __pa_symbol(&__vsyscall_0)); })
 
 /*
  * vsyscall_gtod_data contains data that is :
